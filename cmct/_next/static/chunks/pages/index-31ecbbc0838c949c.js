(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7426)}])},7426:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return m}});var r=n(5893),o=n(9008),s=n.n(o),i=n(7294),c={time:{work:5e3,rest:1e4,refreshInterval:50},colors:{work:"red",workBlank:"#ccc",rest:"lime",restBlank:"#eee"},svg:{size:100,offset:50,lineWidth:4,radius:25}},l=2*c.svg.radius*Math.PI,a=function(t){var e=t.color,n=t.length;return(0,r.jsx)("circle",{cx:"".concat(c.svg.offset,"%"),cy:"".concat(c.svg.offset,"%"),r:"".concat(c.svg.radius,"%"),stroke:e,fill:"transparent",strokeWidth:"".concat(c.svg.lineWidth,"%"),strokeDashoffset:"".concat(l/4,"%"),strokeDasharray:"".concat(l*n,"% ").concat((1-n)*l,"%")})},f=c.time.work+c.time.rest,u=function(t){var e=t.className,n=t.ms,o=t.style,s=n-Math.floor(n/f)*f,i=Math.min(s,c.time.work);return(0,r.jsxs)("svg",{className:e,width:100,height:100,style:o,children:[(0,r.jsx)(a,{color:c.colors.restBlank,length:1}),(0,r.jsx)(a,{color:c.colors.workBlank,length:c.time.work/f}),(0,r.jsx)(a,{color:c.colors.rest,length:s/f}),(0,r.jsx)(a,{color:c.colors.work,length:i/f})]})},h=c.time.refreshInterval,d=c.time.work+c.time.rest,m=function(){var t=(0,i.useState)(0),e=t[0],n=t[1],o=(0,i.useState)(),l=o[0],a=o[1],f=(0,i.useState)(0),m=f[0],v=f[1],k=(0,i.useCallback)(function(){if(void 0!==l){a(void 0);var t=Date.now()-l,e=Math.floor(t/d),r=t-e*d>.6*c.time.work;n(function(t){return t+(e+(r?1:0))*d}),v(0)}else a(Date.now())},[l]);(0,i.useEffect)(function(){if(l){var t=setInterval(function(){v(Date.now()-l)},h);return function(){clearInterval(t)}}},[e,l]);var x=(0,i.useCallback)(function(){a(void 0),n(0),v(0)},[]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:"Coffee machine cleaning timer"})}),(0,r.jsxs)("div",{className:"fixed top-0 right-0 bottom-0 left-0 flex items-center justify-center",children:[(0,r.jsx)(u,{ms:e+m,style:{width:"100vmin",height:"100vmin"}}),(0,r.jsxs)("div",{className:"fixed top-0 right-0 bottom-0 left-0 flex flex-col items-center justify-center gap-2",children:[(0,r.jsx)("div",{children:Math.floor((e+m)/d)}),(0,r.jsx)("button",{onClick:k,type:"button",children:l?"Stop":"Start"})]}),(0,r.jsx)("div",{className:"fixed right-0 bottom-4 left-0 flex flex-col items-center justify-center",children:(0,r.jsx)("button",{onClick:x,type:"button",children:"Reset"})})]})]})}},9008:function(t,e,n){t.exports=n(5443)}},function(t){t.O(0,[774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);